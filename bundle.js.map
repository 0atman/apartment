{"version":3,"sources":["webpack:///webpack/bootstrap 68e1a0375f97b5956a7f","webpack:///./js/main.js","webpack:///./js/ifc.js"],"names":["player","term","termPopup","playerTween","text","calendar","monthNames","monthText","game","Phaser","Game","AUTO","preload","create","update","load","image","bitmapFont","input","keyboard","addCallbacks","keyPress","add","sprite","physics","enable","Physics","ARCADE","texture","alpha","button","moveToTerm","anchor","set","inputEnabled","useHandCursor","world","centerX","centerY","scale","events","onInputDown","closeTerm","tween","bitmapText","visible","Date","getFullYear","addChild","pointerOver","mousePointer","isDown","arcade","moveToPointer","Rectangle","contains","body","x","y","velocity","setTo","to","Easing","Linear","None","onComplete","openTerm","start","Exponential","Out","In","char","getFixedDay","getFixedMonth","getFixedDate","getX","getY","now","diff","oneDay","Math","floor","day","ceil"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 68e1a0375f97b5956a7f\n **/","/* global Phaser */\n\nimport {\n  getFixedDate, getFixedMonth, getX, getY\n} from './ifc.js'\n\nlet player, term, termPopup, playerTween, text, calendar, monthNames, monthText\n\nconst game = new Phaser.Game(1880, 1050, Phaser.AUTO, 'phaser-example',\n  { preload: preload, create: create, update: update })\n\nfunction preload () {\n  game.load.image('player', 'assets/marvin.gif')\n  game.load.image('apartment', 'assets/apartment.png')\n  game.load.image('termPopup', 'assets/term.png')\n  game.load.bitmapFont('gem', 'assets/fonts/gem.png', 'assets/fonts/gem.xml')\n}\n\nfunction create () {\n  game.input.keyboard.addCallbacks(this, null, null, keyPress)\n  game.add.sprite(0, 0, 'apartment')\n  player = game.add.sprite(1048, 368, 'player')\n  game.physics.enable(player, Phaser.Physics.ARCADE)\n\n  game.create.texture(\n    'term', [\n      '00000000',\n      '00000000',\n      '00000000',\n      '20000000',\n      '02000000',\n      '00200000',\n      '02000000',\n      '20002222'\n    ], 4, 4, 0\n  )\n\n  game.create.texture(\n    'calendar', [\n      '000000000000000',\n      '09090909090E0E0',\n      '000000000000000',\n      '09090909090E0E0',\n      '000000000000000',\n      '09090909090E0E0',\n      '000000000000000',\n      '09090909090E0E0',\n      '000000000000000',\n      '0E0E09999999990',\n      '000000000000000'\n    ], 32, 32, 0\n  )\n  monthNames = [\n    'Zeus', 'Hera', 'Poseidon', 'Demeter', 'Athena', 'Apollo',\n    'Artemis', 'Ares', 'Aphrodite', 'Hephaestus', 'Hermes', 'Hestia',\n    'Dionysus'\n  ]\n  calendar = game.add.sprite(332, 232, 'calendar')\n  calendar.alpha = 0.8\n  term = game.add.button(1200, 200, 'term', moveToTerm, this, 2, 1, 0)\n  term.alpha = 0.5\n  term.anchor.set(0.5)\n  term.inputEnabled = true\n  term.input.useHandCursor = true\n\n  termPopup = game.add.sprite(game.world.centerX, game.world.centerY, 'termPopup')\n  termPopup.alpha = 1\n  termPopup.anchor.set(0.5)\n  termPopup.inputEnabled = true\n  termPopup.scale.set(0)\n  termPopup.events.onInputDown.add(closeTerm, this)\n\n  playerTween = game.add.tween(player)\n\n  text = game.add.bitmapText(650, 310, 'gem', 'DISCONNECTED', 32)\n  text.visible = false\n\n  monthText = game.add.bitmapText(\n    160,\n    288,\n    'gem',\n    getFixedDate() + ' ' +\n    monthNames[getFixedMonth()] + ' ' +\n    (new Date()).getFullYear(),\n    32\n  )\n\n  calendar.addChild(monthText)\n\n  game.create.texture('calToday', ['3'], 32, 32, 0)\n\n  calendar.addChild(\n      game.add.sprite(\n        getX(),\n        getY(),\n        'calToday'\n      )\n  )\n  calendar.addChild(\n      game.add.bitmapText(\n        32,\n        32,\n        'gem',\n        '01  02  03  04  05  06  07' + '\\n\\n' +\n        '08  09  10  11  12  13  14' + '\\n\\n' +\n        '15  16  17  18  19  20  21' + '\\n\\n' +\n        '22  23  24  25  26  27  28' + '\\n\\n' +\n        'NY  LD',\n        32\n      )\n    )\n}\n\nfunction update () {\n  if (term.input.pointerOver()) {\n    term.alpha = 1\n  } else {\n    term.alpha = 0.5\n  }\n\n  //  only move when you click\n  if (game.input.mousePointer.isDown) {\n    //  400 is the speed it will move towards the mouse\n    game.physics.arcade.moveToPointer(player, 400)\n    //  if it's overlapping the mouse, don't move any more\n    if (Phaser.Rectangle.contains(player.body, game.input.x, game.input.y)) {\n      player.body.velocity.setTo(0, 0)\n    }\n  } else {\n    player.body.velocity.setTo(0, 0)\n  }\n}\n\nfunction moveToTerm () {\n  playerTween.to({x: 1175, y: 300}, 600, Phaser.Easing.Linear.None)\n  playerTween.onComplete.add(openTerm, this)\n  playerTween.start()\n}\n\nfunction openTerm () {\n  game.add.tween(termPopup.scale).to(\n    { x: 1, y: 1 }, 200, Phaser.Easing.Exponential.Out, true\n  ).onComplete.add(function () {\n    text.visible = true\n  })\n}\n\nfunction closeTerm () {\n  game.add.tween(termPopup.scale).to(\n    { x: 0, y: 0 }, 200, Phaser.Easing.Exponential.In, true\n  )\n  text.visible = false\n}\n\nfunction keyPress (char) {\n  text.text = text.text + char\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/main.js\n **/","export function getFixedDay () {\n  var now = new Date()\n  var start = new Date(now.getFullYear(), 0, 0)\n  var diff = now - start\n  var oneDay = 1000 * 60 * 60 * 24\n  return Math.floor(diff / oneDay)\n}\n\n// TODO: special case NY day and leap year\nexport function getFixedMonth () {\n  var day = getFixedDay()\n  return Math.floor(day / 28)\n}\n\nexport function getFixedDate () {\n  return getFixedDay() - (getFixedMonth() * 28) - 1\n}\n\nexport function getX () {\n  var x = getFixedDate() - (Math.ceil((getFixedDate() / 7) - 1) * 7)\n  return x * 64 - 32\n}\n\nexport function getY () {\n  var y = Math.ceil(getFixedDate() / 7)\n  return y * 64 - 32\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/ifc.js\n **/"],"sourceRoot":""}